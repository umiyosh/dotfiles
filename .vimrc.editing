"-------------------------------------------------------------------------------
" ç·¨é›†é–¢é€£ Edit
"-------------------------------------------------------------------------------

" insertãƒ¢ãƒ¼ãƒ‰ã‚’æŠœã‘ã‚‹ã¨IMEã‚ªãƒ•
set noimdisable
set iminsert=0 imsearch=0
set noimcmdline
inoremap <silent> <ESC> <ESC>:set iminsert=0<CR>

" yeã§ãã®ã‚«ãƒ¼ã‚½ãƒ«ä½ç½®ã«ã‚ã‚‹å˜èªã‚’ãƒ¬ã‚¸ã‚¹ã‚¿ã«è¿½åŠ 
nmap ye ;let @"=expand("<cword>")<CR>
" Visualãƒ¢ãƒ¼ãƒ‰ã§ã®pã§é¸æŠç¯„å›²ã‚’ãƒ¬ã‚¸ã‚¹ã‚¿ã®å†…å®¹ã«ç½®ãæ›ãˆã‚‹
vnoremap p <Esc>;let current_reg = @"<CR>gvdi<C-R>=current_reg<CR><Esc>

" Tabã‚­ãƒ¼ã‚’ç©ºç™½ã«å¤‰æ›
set expandtab

" ã‚³ãƒ³ãƒã®å¾Œã«è‡ªå‹•çš„ã«ã‚¹ãƒšãƒ¼ã‚¹ã‚’æŒ¿å…¥
inoremap , ,<Space>
" XMLã®é–‰ã‚¿ã‚°ã‚’è‡ªå‹•æŒ¿å…¥
augroup MyXML
  autocmd!
  autocmd Filetype xml inoremap <buffer> </ </<C-x><C-o>
augroup END

"  Insert modeä¸­ã§å˜èªå˜ä½/è¡Œå˜ä½ã®å‰Šé™¤ã‚’ã‚¢ãƒ³ãƒ‰ã‚¥å¯èƒ½ã«ã™ã‚‹
inoremap <C-u>  <C-g>u<C-u>
inoremap <C-w>  <C-g>u<C-w>

" :Ptã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿
command! Pt :set paste!

" ã‚¤ãƒ³ã‚µãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰ä¸­ã«<C-o>ã§yankã—ãŸå†…å®¹ã‚’putã™ã‚‹
inoremap <C-o> <ESC>:<C-U>YRPaste 'p'<CR>i

" y9ã§è¡Œæœ«ã¾ã§ãƒ¤ãƒ³ã‚¯
nmap y9 y$
" y0ã§è¡Œé ­ã¾ã§ãƒ¤ãƒ³ã‚¯
nmap y0 y^

"
" æ‹¬å¼§ã‚’è‡ªå‹•è£œå®Œ
"inoremap { {}<LEFT>
"inoremap [ []<LEFT>
"inoremap ( ()<LEFT>
"inoremap " ""<LEFT>
"inoremap ' ''<LEFT>
"vnoremap { "zdi^V{<C-R>z}<ESC>
"vnoremap [ "zdi^V[<C-R>z]<ESC>
"vnoremap ( "zdi^V(<C-R>z)<ESC>
"vnoremap " "zdi^V"<C-R>z^V"<ESC>
"vnoremap ' "zdi'<C-R>z'<ESC>

" ä¿å­˜æ™‚ã«è¡Œæœ«ã®ç©ºç™½ã‚’é™¤å»ã™ã‚‹
autocmd BufWritePre * :%s/\s\+$//ge
" ä¿å­˜æ™‚ã«tabã‚’ã‚¹ãƒšãƒ¼ã‚¹ã«å¤‰æ›ã™ã‚‹
autocmd BufWritePre * :%s/\t/  /ge

" æ—¥æ™‚ã®è‡ªå‹•å…¥åŠ›
inoremap <expr> ,df strftime('%Y/%m/%d %H:%M:%S')
inoremap <expr> ,dd strftime('%Y/%m/%d')
inoremap <expr> ,dt strftime('%H:%M:%S')

" foldã¯å„FiltTypeã«ãŠä»»ã›ã‚‹
" set foldmethod=syntax
" æŠ˜ã‚ŠãŸãŸã¿ã¯å…¨ã¦å±•é–‹ã—ãŸçŠ¶æ…‹ã§é–‹å§‹ã™ã‚‹
" set foldlevelstart=99
" .vimã¯marker
" autocmd FileType vim :set foldmethod=marker

" <leader>j ã§JSONã‚’format
" http://wozozo.hatenablog.com/entry/2012/02/08/121504
map <Leader>j !python -m json.tool<CR>

" quickfixã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ã¯q/ESCã§é–‰ã˜ã‚‹
autocmd FileType qf nnoremap <buffer> q :ccl<CR>
autocmd FileType qf nnoremap <buffer> <ESC> :ccl<CR>

" cwã§quickfixã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®è¡¨ç¤ºã‚’toggleã™ã‚‹ã‚ˆã†ã«ã—ãŸ
function! s:toggle_qf_window()
  for bufnr in range(1,  winnr('$'))
    if getwinvar(bufnr,  '&buftype') ==# 'quickfix'
      execute 'ccl'
      return
    endif
  endfor
  execute 'botright cw'
endfunction
nnoremap <silent> cw :call <SID>toggle_qf_window()<CR>

"INSERTãƒ¢ãƒ¼ãƒ‰ã‚„ãƒã‚ªã‚³ãƒ³ã®è£œå®Œæ™‚ã«ã‚«ãƒ¼ã‚½ãƒ«ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹
imap OA <up>
imap OB <down>
imap OC <right>
imap OD <left>

