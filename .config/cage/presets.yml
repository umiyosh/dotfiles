presets:
  base:
    allow:
      # カレントディレクトリ（作業ディレクトリ）
      - "."
      - "$HOME/.cache"
      - "$HOME/.local/share"
      - "/private/tmp" # macos tmp directory
      - "/tmp"
      - "/var/folders" # macos mktemp
      - "/Library/Caches" # macos app caches
      - "$HOME/Library/Caches" # macos app caches
      # Claude Code 設定
      - "$HOME/.claude"
      - "$HOME/.claude.json"
      - "$HOME/.claude.json.backup"
      - "$HOME/.codex"
      - "$HOME/.config/gcloud/"
      # MCP サーバー
      - "$HOME/.mcp-auth"  # OAuth tokens (Sentry, Honeycomb, Notion)
      - "$HOME/.npm"       # npx cache (Context7, Playwright)
      - "$HOME/Library/Mobile Documents/iCloud~md~obsidian"  # Obsidian Vault (iCloud)
      - "/opt/homebrew"  # Homebrew (Cellar, bin, etc.)
      - "$HOME/Library/Logs/Homebrew"  # Homebrew logs
      # デバイス (pty/tty, /dev/null, etc.)
      - "/dev"
      # 開発ディレクトリは "." (cwd) でカバー
      - "$HOME/dotfiles"  # dotfiles (symlinked to ~/dotfiles)
      - "$HOME/dotfiles_private"  # private dotfiles (symlinked to ~/dotfiles_private)
      # 一時ファイル（macOS: /tmp -> /private/tmp）

  git-enabled:
    allow-git: true
    allow-keychain: true # macOS only

  claude-code:
    allow:
      - "$CLAUDE_CONFIG_DIR"
      - "$HOME/.serena"
      - ".serena"
auto-presets:
  - command: claude
    presets:
      - base
      - git-enabled
      - claude-code
